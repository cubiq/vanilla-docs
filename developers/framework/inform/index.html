<!DOCTYPE html><html lang=en manifest=/manifest.appcache><head><meta charset=utf-8><title>Inform Messages &middot; Vanilla Documentation</title><meta name=description content=""><meta name=keywords content=""><meta name=viewport content="width=device-width"><meta name=google-site-verification content=IWfWjN_f_82e7heCa9D0SJRhIf8aZdPNKZm_ympcB54><link rel=stylesheet href=/assets/main.e5d3ed7a.css><body><div id=top></div><nav class="navbar navbar-default navbar-static-top" role=navigation><div class=container><div class=navbar-header><a class=navbar-brand href="/"><img class=logo src=/assets/img/logo.9bdefa97.svg alt="Vanilla Forums" width=102 height=41> Docs</a></div><div class="collapse navbar-collapse"><div class="navbar-form navbar-left"><div class="dropdown js-search" role=search><div class=form-group><input class="form-control js-search-input" id=docs-search title="Search the documentation" placeholder=Search></div><ul class="dropdown-menu dropdown-search-results js-search-results"><li><a><span class=title></span> <span class=categories></span></a></li></ul></div></div><ul class="nav navbar-nav navbar-right"><li><a href=http://vanillaforums.com>Cloud Hosted Community</a></li><li><a href=http://vanillaforums.org>Open Source Community</a></li></ul></div></div></nav><div class=container><ol class=breadcrumb><li itemscope itemtype=http://data-vocabulary.org/Breadcrumb><a href="/" itemprop=url><span itemprop=title>Home</span></a></li><li itemscope itemtype=http://data-vocabulary.org/Breadcrumb><a href="/developers/" itemprop=url><span itemprop=title>Developers</span></a></li><li itemscope itemtype=http://data-vocabulary.org/Breadcrumb><a href="/developers/framework/" itemprop=url><span itemprop=title>Framework</span></a></li><li class=active itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span itemprop=title>Inform Messages</span></li></ol><div class=row><div class=col-sm-3><nav class="docs-nav js-docs-nav" role=navigation><ul class="nav nav-stacked"><li><a href="/addons/">Addons</a><ul class="nav nav-stacked"><li><a href="/addons/badges/">Badges</a><ul class="nav nav-stacked"><li><a href="/addons/badges/adding-and-editing-badges/">Adding and Editing Badges</a></li><li><a href="/addons/badges/giving-and-requesting-badges/">Giving and Requesting Badges</a></li></ul></li><li><a href="/addons/warnings-and-notes/">Warnings &amp; Notes</a><ul class="nav nav-stacked"><li><a href="/addons/warnings-and-notes/adding-and-editing-user-notes/">Adding and Editing User Notes</a></li><li><a href="/addons/warnings-and-notes/upgrading-from-warnings/">Upgrading from Warnings</a></li><li><a href="/addons/warnings-and-notes/warning-a-user/">Warning a User</a></li></ul></li><li><a href="/addons/gigya/">Gigya Sign In</a></li><li><a href="/addons/googleplus/">Google Plus</a></li><li><a href="/addons/groups/">Groups</a><ul class="nav nav-stacked"><li><a href="/addons/groups/managing-groups/">Managing Groups</a></li></ul></li><li><a href="/addons/pockets/">Pockets</a></li><li><a href="/addons/forummerge/">Forum Merge</a></li><li><a href="/addons/reactions/">Reactions</a><ul class="nav nav-stacked"><li><a href="/addons/reactions/adding-and-editing-reactions/">Adding and Editing Reactions</a></li><li><a href="/addons/reactions/curating-with-reactions/">Curating with Reactions</a></li></ul></li><li><a href="/addons/redirector/">Redirector</a></li><li><a href="/addons/reporting/">Reporting</a></li><li><a href="/addons/statistics/">Statistics</a></li><li><a href="/addons/vanilla-pop/">Vanilla Pop</a></li><li><a href="/addons/ranks/">Ranks</a><ul class="nav nav-stacked"><li><a href="/addons/ranks/adding-and-editing-ranks/">Adding and Editing Ranks</a></li><li><a href="/addons/ranks/applying-ranks-over-sso/">Applying Ranks over SSO</a></li><li><a href="/addons/ranks/using-ranks-as-incentives/">Using Ranks as Incentives</a></li><li><a href="/addons/ranks/using-ranks-to-defeat-spam-or-abuse/">Using Ranks to Defeat Spam or Abuse</a></li></ul></li></ul></li><li><a href="/api/">API</a><ul class="nav nav-stacked"><li><a href="/api/smart-id/">Smart ID</a></li><li><a href="/api/categories/">Categories</a></li><li><a href="/api/comments/">Comments</a></li><li><a href="/api/discussions/">Discussions</a></li><li><a href="/api/forum-administration/">Forum Administration</a></li><li><a href="/api/roles/">Roles</a></li><li><a href="/api/site-hub/">Site Hub</a></li><li><a href="/api/use-api-on-external-site/">API on External Sites</a></li></ul></li><li><a href="/cloud/">Cloud Services</a><ul class="nav nav-stacked"><li><a href="/cloud/integration/">Integration Services</a></li><li><a href="/cloud/logging/">Logging</a></li><li><a href="/cloud/migration/">Migration Services</a></li><li><a href="/cloud/multisite/">Multisite Features</a></li><li><a href="/cloud/repo/">Repository</a></li><li><a href="/cloud/ssl/">Setting up SSL (https)</a></li><li><a href="/cloud/staging/">Staging Site</a></li><li><a href="/cloud/support/">Support</a></li><li><a href="/cloud/theming/">Theming Services</a></li></ul></li><li class=active><a href="/developers/">Developers</a><ul class="nav nav-stacked"><li><a href="/developers/changelog/">Changelog</a></li><li><a href="/developers/troubleshooting/">Troubleshooting</a></li><li><a href="/developers/configuration/">Configuration</a><ul class="nav nav-stacked"><li><a href="/developers/configuration/banner/">Banner Settings</a></li><li><a href="/developers/configuration/dashboard/">Dashboard</a></li><li><a href="/developers/configuration/homepage/">Homepage Settings</a></li><li><a href="/developers/configuration/message/">Messages</a></li><li><a href="/developers/configuration/using/">Using The Config</a></li></ul></li><li><a href="/developers/contributing/">Contributing</a><ul class="nav nav-stacked"><li><a href="/developers/contributing/coding-standard/">Coding Standard</a></li><li><a href="/developers/contributing/pull-requests/">Pull Requests</a></li></ul></li><li><a href="/developers/data-privacy/">Data privacy</a></li><li class=active><a href="/developers/framework/">Framework</a><ul class="nav nav-stacked"><li><a href="/developers/framework/assets/">Assets</a></li><li><a href="/developers/framework/views/">Views</a></li><li><a href="/developers/framework/database/">Database access</a></li><li><a href="/developers/framework/datasets/">Datasets</a></li><li><a href="/developers/framework/helpers/">Helpers</a></li><li><a href="/developers/framework/i18n/">Internationalization &amp; Localization</a></li><li><a href="/developers/framework/controllers/">Controllers &amp; URLs</a></li><li><a href="/developers/framework/models/">Models, Forms, &amp; Validation</a></li><li><a href="/developers/framework/modules/">Modules</a></li><li><a href="/developers/framework/permissions/">Permissions</a></li><li><a href="/developers/framework/requests/">Requests</a></li><li class=active><a href="/developers/framework/inform/">Inform Messages</a></li></ul></li><li><a href="/developers/community/">Community</a></li><li><a href="/developers/installation/">Installation</a></li><li><a href="/developers/locales/">Locales</a></li><li><a href="/developers/plugins/">Plugins</a><ul class="nav nav-stacked"><li><a href="/developers/plugins/quickstart/">Plugin Quickstart</a></li></ul></li><li><a href="/developers/routes/">Routes</a></li><li><a href="/developers/tools/">Developer Tools</a></li><li><a href="/developers/importing/">Importing</a><ul class="nav nav-stacked"><li><a href="/developers/importing/build/">Building new porters</a></li><li><a href="/developers/importing/porter/">Vanilla Porter</a></li><li><a href="/developers/importing/support/">Supported platforms</a></li></ul></li></ul></li><li><a href="/features/">Features</a><ul class="nav nav-stacked"><li><a href="/features/categories/">Categories</a></li><li><a href="/features/embedding/">Embedding</a><ul class="nav nav-stacked"><li><a href="/features/embedding/advanced/">Advanced Embedding</a></li></ul></li><li><a href="/features/emoji/">Emoji</a></li><li><a href="/features/roles-permissions/">Roles &amp; Permissions</a><ul class="nav nav-stacked"><li><a href="/features/roles-permissions/default-role-types/">Default Role Types</a></li></ul></li><li><a href="/features/sso/">Single Sign-On (SSO)</a><ul class="nav nav-stacked"><li><a href="/features/sso/jsconnect/">SSO with jsConnect</a><ul class="nav nav-stacked"><li><a href="/features/sso/jsconnect/embed/">Embedded</a></li><li><a href="/features/sso/jsconnect/overview/">Technical Overview</a></li><li><a href="/features/sso/jsconnect/seamless/">Seamless Setup</a></li></ul></li><li><a href="/features/sso/oauth/">SSO with OAuth</a></li><li><a href="/features/sso/saml/">SSO with SAML</a></li></ul></li><li><a href="/features/wordpress/">WordPress Integration</a><ul class="nav nav-stacked"><li><a href="/features/wordpress/using-comments/">Using Comments</a></li><li><a href="/features/wordpress/wishlist/">WishList Integration</a></li></ul></li></ul></li><li><a href="/theming/">Theming</a><ul class="nav nav-stacked"><li><a href="/theming/css/">Theming CSS</a></li><li><a href="/theming/hooks/">Theming Hooks</a></li><li><a href="/theming/quickstart/">Theming Quickstart</a></li><li><a href="/theming/smarty/">Smarty</a><ul class="nav nav-stacked"><li><a href="/theming/smarty/asset/">{asset}</a></li><li><a href="/theming/smarty/text/">{text}</a></li><li><a href="/theming/smarty/custom-menu/">{custom_menu}</a></li><li><a href="/theming/smarty/event/">{event}</a></li><li><a href="/theming/smarty/i18n/">{t}</a></li><li><a href="/theming/smarty/link/">{link}</a></li><li><a href="/theming/smarty/breadcrumbs/">{breadcrumbs}</a></li><li><a href="/theming/smarty/mobile-logo/">{mobile_logo}</a></li><li><a href="/theming/smarty/permission/">{permission}</a></li><li><a href="/theming/smarty/pocket/">{pocket}</a></li><li><a href="/theming/smarty/searchbox/">{searchbox}</a></li><li><a href="/theming/smarty/logo/">{logo}</a></li></ul></li><li><a href="/theming/views/">Theming Views</a></li></ul></li></ul><p class=hidden-xs><a class=text-muted href=#top>^ Back to top</a></p></nav></div><div class=col-sm-9><div class="edit-doc pull-right hidden-xs"><a class="btn btn-default btn-xs" href=https://github.com/vanilla/vanilladocs/edit/master/docs/developers/framework/inform.html.md>Improve document</a></div><article class=markdown-body role=article><h1 id=inform-messages>Inform Messages</h1><p>Inform Messages allow you to let users know of some action that your plugin or application has taken. Inform messages allow you to quickly and easily relay information to users, and handle actions based on interaction with those messages. Use them freely to notify users of saved forms, punishments, rewards, etc.</p><p>You can send Inform Messages from within a controller or a plugin, or from a custom javascript function.</p><p>By default, these messages are stackable, dismissable, and autodismissable. They can contain any plain-text string, or any unfiltered custom html string.</p><p>They can be passed with JavaScript callbacks to fire on dismissal so some kind of further action can be taken. There are even CSS definitions that allow you access to over 100 readymade icon sprites you can use to denote meaning in your messaging.</p><h2 id=using-in-core>Using in core</h2><p>An example native inform message in Vanilla: saving drafts.</p><p><img style="border:1px solid #333;margin:20px 0;display:block" src=http://farm6.static.flickr.com/5091/5503092803_d4be13195b_o.png alt=""></p><p>When a comment draft is saved, you can see an inform message appear on the bottom-left of the screen. This message shows a close button on the top-right when you hover your mouse overtop, and it automatically disappears after a few seconds. The code used to make this message appear is located on line 448 of /applications/vanilla/class.postcontroller.php:</p>$this-&gt;InformMessage(sprintf(T('Draft saved at %s'), Gdn_Format::Date()));<p>If we didn't want to include the time that the draft was saved, we could simplify it further to:</p>$this-&gt;InformMessage(T('Draft saved successfully'));<p>The <code>t()</code> function is Vanilla&#39;s native &quot;Translate&quot; function so that the string can be converted to other languages.</p><h2 id=using-in-a-plugin>Using in a plugin</h2><p>Adding a message to the screen with a plugin.</p><p><img style="border:1px solid #333;margin:20px 0;display:block" src=http://farm6.static.flickr.com/5019/5503917718_4f22ccd6e0_o.png alt=""></p><p>The code to achieve this is pretty easy:</p>public function Base_Render_Before($Sender) {<br>$Sender-&gt;InformMessage('This is a test!');<br>}<p>With this code, the message will appear on every page load for every user (signed in or not) and it will disappear after a few moments. Not exactly a useful message, but let's see what else we can do with it:</p>public function Base_Render_Before($Sender) {<br>// Only show the message if the user is signed in<br>if (Gdn::Session()-&gt;IsValid())<br>$Sender-&gt;InformMessage('This is a test!', 'Dismissable');<br>}<p>Now the message only shows if the user has a valid session, and it doesn&#39;t auto-dismiss. The second parameter in the InformMessage method is either a string of CSS classes to be applied to the message container, or an array of options.</p><p>If you don&#39;t provide the second parameter at all, it defaults to &quot;Dismissable AutoDismiss&quot;, which obviously makes it so the message automatically disappears after a few moments, or can be immediately dismissed by clicking the &quot;close&quot; button. If you decide to use the second parameter, here are the options available to you:</p><ul><li><strong>CssClass:</strong> An optional set of css classes to pass along to the message&#39;s container.</li><li><strong>DismissCallback:</strong> An optional javascript callback that gets called when the &quot;close&quot; button is clicked on a message.</li><li><strong>DismissCallbackUrl:</strong> An optional javascript callback url that gets requested when the &quot;close&quot; button is clicked on a message. If a dismissCallback is specified, this option will be ignored.</li></ul><h2 id=static-messages>Static messages</h2><p>Let&#39;s say you want to deliver a message to a particular user, and have that message stay on the screen on every page load until that user dismisses the message. You can achieve it like this:</p>public function Base_Render_Before($Sender) {<br>$Session = Gdn::Session();<br>if ($Session-&gt;IsValid() &amp;&amp; $Session-&gt;User-&gt;UserID == 1 &amp;&amp; $Session-&gt;GetPreference('UserDismissedCustomMessage', false) == false) {<br>$Sender-&gt;InformMessage(<br>'This message will stay here until you dismiss it!',<br>array(<br>'CssClass' =&gt; 'Dismissable',<br>'DismissCallbackUrl' =&gt; '/plugin/dismissmessage/'<br>)<br>);<br>}<br>}<br><br>// Handle the callback<br>public function PluginController_DismissMessage_Create($Sender) {<br>$Session = Gdn::Session();<br>$Session-&gt;SetPreference('UserDismissedCustomMessage', TRUE);<br>}<p><img style="border:1px solid #333;margin:20px 0;display:block" src=http://farm6.static.flickr.com/5254/5503327977_f14304669c_o.png alt=""></p><p>This message appears for me because my UserID is 1, and it keeps showing up on every page until I dismiss it. At that point the callback url is requested via ajax, and the dismissal preference is saved so the message will no longer appear for me.</p><h2 id=styling-a-message>Styling a message</h2><p>Let&#39;s look at how we can change the appearance of these messages.</p><p><img style="border:1px solid #333;margin:20px 0;display:block" src=http://farm6.static.flickr.com/5014/5503328011_3d92a293b7_o.png alt=""></p><p>There are over 100 icons available for you to use. You can check them out by looking at the icon sprite file located in /applications/dashboard/design/images/inform-sprites.png, and you can see how to reference them by searching for the css definitions in /applications/dashboard/design/style.css (hint: search for &quot;span.InformSprite.&quot;).</p><p>Here&#39;s the code to achieve this message:</p>$Sender-&gt;InformMessage('&lt;span class="InformSprite Skull"&gt;&lt;/span&gt; This is a test!', 'Dismissable HasSprite');<p>Note the span at the front of the message. This will contain the &quot;Skull&quot; image you see above. It&#39;s also necessary for the CSS definition in the second argument to contain &quot;HasSprite&quot; so that the spacing &amp; alignment of the icon all works properly.</p><h2 id=message-origin>Message origin</h2><p>You can also style the inform messages to appear &quot;From&quot; a specific user. <img style="border:1px solid #333;margin:20px 0;display:block" src=http://farm6.static.flickr.com/5098/5503917812_cfa84f0c24_o.png alt=""></p><p>You&#39;ll need to load a user record for the icon you wish to display, and then write the message to the screen like this:</p>$User = Gdn::UserModel-&gt;Get(1); // Load the user who's icon you want to show<br>$String = UserPhoto($User, 'Icon'); // IMPORTANT: Give the icon a css class of "Icon"<br>$String .= 'This is a test!'; // Append some message<br>$Sender-&gt;InformMessage($String, 'Dismissable HasIcon'); // Send to the screen<h2 id=inform-via-javascript>Inform via JavaScript</h2><p>At some point you may need to write a message to the screen from JavaScript instead of from the server side. This can be achieved with a similar, JavaScript-based method:</p>gdn.informMessage('This is a test!');<p>And all of the same properties exist, so you can be as elaborate as you like:</p>gdn.informMessage('This is a test!', {'CssClass' : 'Dismissable', 'DismissCallback' : 'some_function', 'DismissCallbackUrl' : '/relative/path/to/callback/url'});<h2 id=duplication-and-stacking>Duplication and stacking</h2><p>You can add as many messages to as many pages as you like. If a message is already present on the screen, it will not be added a second time, and new messages will simply stack one-on-top-of-the-next. <img style="border:1px solid #333;margin:20px 0;display:block" src=http://farm6.static.flickr.com/5300/5503917872_92042ca343_o.png alt=""></p></article></div></div></div><footer class="footer js-footer"><div class=jumbotron><div class=container><div class=row><div class=col-sm-6><h3><a href=http://vanillaforums.com>Cloud Hosting</a></h3><p><strong>We believe that online communities should be intuitive, engaging and true to your brand.</strong> Vanilla allows you to create a customized community that rewards positive participation, automatically curates content and lets members drive moderation.</p></div><div class=col-sm-6><h3><a href=http://vanillaforums.org>Open Source</a></h3><p>Vanilla provides cloud and open source community forum software that powers discussion forums on more than 700,000 sites. Built for flexibility and integration, <strong>Vanilla is the best, most powerful community solution in the world.</strong></p></div></div></div></div><div class=footer-copyright><div class=container><p class=text-center>Copyright &copy; 2009-2015 <a href=http://vanillaforums.com>Vanilla Forums Inc.</a> All rights reserved.</p><ul class="list-inline text-center hidden-xs"><li><a href=http://docs.vanillaforums.com>Docs</a></li><li><a href=http://blog.vanillaforums.com>Blog</a></li><li><a href=http://vanillaforums.com>Cloud</a></li><li><a href=http://vanillaforums.org>Community</a></li><li><a href=https://github.com/vanilla>GitHub</a></li><li><a href=https://github.com/vanilla/vanilla/issues>Issues</a></li></ul></div></div></footer><script src=/search.c111f7ad.json id=search-manifest type=application/json></script><script src=/assets/main.9da51906.js></script><script>!function(e,a,t,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=a.createElement(t),s=a.getElementsByTagName(t)[0],o.async=1,o.src=n,s.parentNode.insertBefore(o,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-12713112-1","auto"),ga("send","pageview");</script>